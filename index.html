<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SetLib API Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>SETLib API</h1>
        </header>

        <!-- <nav class="nav">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#public">Public Routes</a></li>
                <li><a href="#users">Users</a></li>
                <li><a href="#professor">Professor</a></li>
                <li><a href="#problems">Problems</a></li>
                <li><a href="#tickets">Support Tickets</a></li>
            </ul>
        </nav> -->

        <section id="overview" class="intro">
            <h2>SETLib API Overview</h2>
            <p>The SetLib API provides endpoints for managing users, courses, problems, and support tickets.</p>

            <div class="base-url">
                <strong>Base URL:</strong> <code>{{base_url}}</code>
            </div>

            <h3>Authentication</h3>
            <p>Authentication details will be provided through the login endpoint in the Public routes section.</p>

            <h3>Response Format</h3>
            <p>All API responses use standard HTTP status codes. Error responses follow a consistent format with status,
                timestamp, message, and optional debug information.</p>

            <h3>Errors</h3>
            <p>
                SETLib uses conventional HTTP response codes to indicate the success or failure of an API request. In
                general: Codes in the 2xx range indicate success. Codes in the 4xx range indicate an error that failed
                given the information provided (e.g., a required parameter was omitted, a parameter was invalid, etc.). Codes in
                the 5xx range indicate an error with SETLib servers.
            </p>
        </section>

        <div id="public" class="section">
            <div class="section-header">Public Routes</div>
            <div class="section-content">
                <p>Publicly accessible routes that don't require authentication.</p>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">api/ping</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Health check endpoint that returns a personalized greeting.</div>

                        <div class="params-section">
                            <h4>Query Parameters</h4>
                            <div class="param">
                                <span class="param-name">name</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Name to include in the greeting</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>hello anthony!</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/login</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Authenticate user and obtain session/token.</div>
                        <p><em>Request body structure not specified in collection - implementation details needed.</em>
                        </p>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/register</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Register a new user account.</div>
                        <p><em>Request body structure not specified in collection - implementation details needed.</em>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="users" class="section">
            <div class="section-header">User Management</div>
            <div class="section-content">
                <p>Endpoints for managing approved users in the system.</p>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/users</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Retrieve all approved users in the system.</div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>[
  {
    "publicId": "f77de",
    "firstName": "chris",
    "lastName": "hansen",
    "email": "whydontyouhaveaseat@gmail.com",
    "role": "professor",
    "createdAt": "2025-08-12 23:09:34.405199+00"
  },
  {
    "publicId": "18be3",
    "firstName": "facilitator",
    "lastName": "one",
    "email": "somefacilitator@uw.com",
    "role": "admin",
    "createdAt": "2025-08-12 23:08:47.671755+00"
  }
]</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/users</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Add a new user to the approved users list.</div>

                        <div class="params-section">
                            <h4>Request Body</h4>
                            <div class="param">
                                <span class="param-name">email</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>User's email address</div>
                            </div>
                            <div class="param">
                                <span class="param-name">role</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>User role: "professor", "admin", "facilitator", "dev"</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">201 Created</div>
                                <div class="code-block">
                                    <pre>Added smalluser@uw.edu to approved users</pre>
                                </div>
                            </div>
                            <div class="response-example error-response">
                                <div class="status-code error">409 Conflict</div>
                                <div class="code-block">
                                    <pre>{
  "status": "CONFLICT",
  "timestamp": "14-08-2025 09:30:51",
  "message": "User already exists smalluser@uw.edu",
  "debugMessage": null,
  "subErrors": null
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method delete">DELETE</span>
                        <span class="endpoint-url">/api/users/{email}</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Remove a user from the approved users list.</div>

                        <div class="params-section">
                            <h4>Path Parameters</h4>
                            <div class="param">
                                <span class="param-name">email</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Email address of the user to remove</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>Successfully removed smalluser@uw.edu</pre>
                                </div>
                            </div>
                            <div class="response-example error-response">
                                <div class="status-code error">404 Not Found</div>
                                <div class="code-block">
                                    <pre>{
  "status": "NOT_FOUND",
  "timestamp": "14-08-2025 09:30:38",
  "message": "Cant remove user: smalluser@uw.edu does not exist",
  "debugMessage": null,
  "subErrors": null
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="professor" class="section">
            <div class="section-header">Professor Routes</div>
            <div class="section-content">
                <p>Endpoints specific to professor functionality.</p>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/professors/courses</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">List all courses associated with professors.</div>
                        <p><em>Response format not captured in collection - implementation details needed.</em></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="problems" class="section">
            <div class="section-header">Problems Management</div>
            <div class="section-content">
                <p>Endpoints for managing educational problems and exercises.</p>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/problems/{id}</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Retrieve a specific problem by its ID.</div>

                        <div class="params-section">
                            <h4>Path Parameters</h4>
                            <div class="param">
                                <span class="param-name">id</span>
                                <span class="param-type">(integer)</span>
                                <span class="param-required">required</span>
                                <div>Unique identifier for the problem</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>{
  "id": 72,
  "diff": "hard",
  "text": "{}",
  "problemStatus": "ok",
  "courses": ["algorithms"],
  "categories": ["algorithms", "java", "runtime"],
  "name": "chris hansen",
  "email": "whydontyouhaveaseat@gmail.com",
  "createdAt": "2025-08-14 18:25:39.353362",
  "updatedAt": "2025-08-14 18:25:39.353362"
}</pre>
                                </div>
                            </div>
                            <div class="response-example error-response">
                                <div class="status-code error">404 Not Found</div>
                                <div class="code-block">
                                    <pre>{
  "status": "NOT_FOUND",
  "timestamp": "14-08-2025 09:31:00",
  "message": "Problem does not exist",
  "debugMessage": null,
  "subErrors": null
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/problems</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Create a new problem in the system.</div>

                        <div class="params-section">
                            <h4>Request Body</h4>
                            <div class="param">
                                <span class="param-name">diff</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Difficulty level: "easy", "medium", "hard"</div>
                            </div>
                            <div class="param">
                                <span class="param-name">createdBy</span>
                                <span class="param-type">(integer)</span>
                                <span class="param-required">required</span>
                                <div>ID of the user creating the problem</div>
                            </div>
                            <div class="param">
                                <span class="param-name">text</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Problem description/content</div>
                            </div>
                            <div class="param">
                                <span class="param-name">problemStatus</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Status of the problem</div>
                            </div>
                            <div class="param">
                                <span class="param-name">courses</span>
                                <span class="param-type">(array)</span>
                                <span class="param-required">required</span>
                                <div>Array of course names this problem belongs to</div>
                            </div>
                            <div class="param">
                                <span class="param-name">categories</span>
                                <span class="param-type">(array)</span>
                                <span class="param-required">required</span>
                                <div>Array of category tags for the problem</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">201 Created</div>
                                <div class="code-block">
                                    <pre>Problem added!</pre>
                                </div>
                            </div>
                            <div class="response-example error-response">
                                <div class="status-code error">400 Bad Request</div>
                                <div class="code-block">
                                    <pre>{
  "status": "BAD_REQUEST",
  "timestamp": "14-08-2025 09:31:45",
  "message": "Validation failed",
  "debugMessage": null,
  "subErrors": [
    {
      "object": "problem",
      "field": "text",
      "rejectedValue": null,
      "message": "Text is required"
    }
  ]
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tickets" class="section">
            <div class="section-header">Support Tickets</div>
            <div class="section-content">
                <p>Endpoints for managing support tickets and user assistance requests.</p>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/tickets</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Create a new support ticket.</div>

                        <div class="params-section">
                            <h4>Request Body</h4>
                            <div class="param">
                                <span class="param-name">subject</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Subject/title of the support ticket</div>
                            </div>
                            <div class="param">
                                <span class="param-name">message</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">required</span>
                                <div>Detailed message describing the issue</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>Successfully created ticket</pre>
                                </div>
                            </div>
                            <div class="response-example error-response">
                                <div class="status-code error">400 Bad Request</div>
                                <div class="code-block">
                                    <pre>{
  "status": "BAD_REQUEST",
  "timestamp": "14-08-2025 09:32:25",
  "message": "Validation failed",
  "debugMessage": null,
  "subErrors": [
    {
      "object": "supportTicket",
      "field": "message",
      "rejectedValue": null,
      "message": "Message is required"
    }
  ]
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/tickets</span>
                    </div>
                    <div class="endpoint-body">
                        <div class="description">Retrieve all support tickets with optional filtering and sorting.</div>

                        <div class="params-section">
                            <h4>Query Parameters</h4>
                            <div class="param">
                                <span class="param-name">status</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Filter by status: "all", "open", "closed"</div>
                            </div>
                            <div class="param">
                                <span class="param-name">search</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Search term to filter tickets</div>
                            </div>
                            <div class="param">
                                <span class="param-name">userEmail</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Filter tickets by user email</div>
                            </div>
                            <div class="param">
                                <span class="param-name">sortBy</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Field to sort by (e.g., "email", "timestamp")</div>
                            </div>
                            <div class="param">
                                <span class="param-name">sortOrder</span>
                                <span class="param-type">(string)</span>
                                <span class="param-required">optional</span>
                                <div>Sort order: "asc" or "desc"</div>
                            </div>
                        </div>

                        <div class="response-section">
                            <h4>Response Examples</h4>
                            <div class="response-example">
                                <div class="status-code">200 OK</div>
                                <div class="code-block">
                                    <pre>[
  {
    "email": "timapple@icloud.com",
    "name": "tim apple",
    "subject": "documentation",
    "message": "where is the documentation??????????????",
    "timestamp": "2025-08-14 21:32:14.582857+00",
    "open": true
  },
  {
    "email": "somefacilitator@uw.com",
    "name": "facilitator one",
    "subject": "cant query all support tickets",
    "message": "WHY",
    "timestamp": "2025-07-17 04:49:37.830064+00",
    "open": false
  }
]</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight current section in navigation
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section, .intro');
            const navLinks = document.querySelectorAll('.nav a');

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.style.background = '';
                if (link.getAttribute('href') === '#' + current) {
                    link.style.background = '#f0f2ff';
                }
            });
        });
    </script>
</body>

</html>